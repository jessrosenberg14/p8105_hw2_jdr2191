---
title: "p8105_hw2_jdr2191"
author: "Jess Rosenberg"
due date: "09OCT2021"
output: github_document
---

## Problem 1

Load the tidyverse and readxl
```{r loadlibraries, echo=FALSE, message=FALSE}
library(tidyverse)
library(readxl)
```

Import excel file
```{r import_mrtrashwheel}
mrtrashwheel_df = read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "Mr. Trash Wheel",
                             range = cell_cols("A:N")) %>%
                  janitor::clean_names() %>%
                  filter(dumpster != "NA") %>%
                  mutate(sports_balls = round(sports_balls, 0))

view(mrtrashwheel_df)
```

Read and clean the precipitation data for 2018 and 2019.
```{r precipitationdata_18}
precipitation18_df = read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2018 Precipitation",
                     range = "A2:B14") %>%
                     janitor::clean_names() %>%
                     mutate(year = "2018")

view(precipitation18_df)

precipitation19_df = read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2019 Precipitation",
                     range = "A2:B14") %>%
                     janitor::clean_names() %>%
                     na.omit %>%
                     mutate(year = "2019") 

view(precipitation19_df)
```

Combine preciptation datasets for 2018 and 2019.
```{r combined_precipitation}
precipitation_df = bind_rows(precipitation18_df, precipitation19_df) %>%
                   janitor::clean_names() %>%
                   mutate(month = month.name[as.numeric(month)])

view(precipitation_df)
```

The Mr. Trash Wheel dataset contains `r count(mrtrashwheel_df)` observations. In 2019, the median number of sports balls in a dumpster was  `r mrtrashwheel_df %>% filter(year == 2019) %>% summarise(median(sports_balls))` balls. The Mr. Trash Wheel dataset describes the types of trash Mr. Trash Wheel collects, including, `plastic bottles, polystyrene, cigarette butts, glass bottles, grocery bags, chip bags, and sports balls`. The dataset also provides information about the `date` the trash was collected, as well as its `weight` and `volume`.

The precipitation dataset contains `r count(precipitation_df)` observations. In 2018, the total precipitation was `r precipitation_df %>% filter(year == 2018) %>% summarise(sum(total))` inches. The precipitation dataset includes a `month` and `year` variable as well as a total `precipitation` variable.

## Problem 2

Import and clean the data in pols-month.csv.
```{r import_pols-month}
pols_month_df = read_csv("pols-month.csv") %>%
                janitor::clean_names() %>%
                separate(mon, sep = "-", into = c("year","month","day"), convert = TRUE) %>%
                mutate(month = month.name[as.numeric(month)]) %>%
                mutate(president = factor(prez_dem, labels = c("gop","dem"))) %>%
                subset(select = -c(prez_dem, prez_gop, day))


view(pols_month_df)
```

Import and clean the data in snp.csv.
```{r import_snp}
snp_df = read_csv("snp.csv") %>%
         janitor::clean_names() %>%
         separate(date, sep = "/", into = c("month","day","year"), convert = TRUE) %>%
         mutate(year = ifelse(year >= 50, year + 1900, year + 2000)) %>%
         relocate(year, before = NULL)

view(snp_df)
```

Import and Clean the Unemployment Data.
```{r import_unemployment}
unemployment_df = read_csv("unemployment.csv") %>%
                  janitor::clean_names()
```

```{r tidy_unemployment}
unemployment_tidy = 
             unemployment_df %>%
             pivot_longer(jan:dec,
                          names_to = "month",
                          values_to = "unemployment")
                               

view(unemployment_tidy)

as.numeric(pull(unemployment_df, jan:dec))

typeof(pull(unemployment_df, jan))
```


